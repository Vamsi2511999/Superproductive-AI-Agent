<!-- Task filters and table -->
<div class="filters">
  <label>Priority:
    <select [(ngModel)]="filterPriority" (change)="applyFilters()">
      <option>All</option>
      <option>High</option>
      <option>Medium</option>
      <option>Low</option>
    </select>
  </label>
  <label>From:
    <input type="date" [(ngModel)]="fromDate" (change)="applyFilters()" />
  </label>
  <label>To:
    <input type="date" [(ngModel)]="toDate" (change)="applyFilters()" />
  </label>
  <button (click)="loadTasks()">Refresh</button>
</div>

<div *ngIf="loading">Loading tasks...</div>
<table class="task-table" *ngIf="!loading">
  <thead>
    <tr>
      <th>Title</th>
      <th>Source</th>
      <th>ETA</th>
      <th>Priority</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let t of filtered">
      <td>{{t.title}}</td>
      <td>{{t.source}}</td>
      <td>{{t.eta | date:'mediumDate'}}</td>
      <td>{{t.priority}}</td>
      <td>{{t.status || 'Pending'}}</td>
      <td>
        <button (click)="markDone(t)">Mark Done</button>
      </td>
    </tr>
  </tbody>
</table>